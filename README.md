# Изучение подходов к разработке
* [Таблица с данными](https://docs.google.com/spreadsheets/d/1_q9jKfXmUFED1vAkyLDvN53rpjCSpFUUAw77ryrtTEg/edit#gid=0)
* [Видео эксперимента](https://www.youtube.com/watch?v=IdLSmVK4g_o)
* [Презентация](https://docs.google.com/presentation/d/1kiOVX1teNQM5lQbTwNbShm_CS_Xtk7cir5LVvX9uoP4/edit#slide=id.g2c391e47d9f_0_1748)

## Термины
* Unit тест - проверяет отдельный модуль в изоляции от других
* Интерграционный тест - проверяет приложение в связке с другими
* Регрессионный тест - проверяет факт работы всех выполненных задач

## Цикл разработки

1. **Из** Изучить задачу **N**
2. Цикл разработки FOR i=0; i < **M**:
   1. **Тест** Протестировать задачу
   2. **Из** Внести изменения
3. **Инт** Интеграционное тестирование
4. **Регр** Регрессионное тестирование
5. **Дор** Доработки после тестирования
6. **Вqan** Тестирование со стороны QA

М - количество микроитераций для успешного выполнения задачи, сложность задачи

## Стоимость разработки
```
Зn = Вn + Вqan * Kq
где:
 n - номер задачи
 Зn - затраты на задачу (в часах программиста)
 Вn - время на разработку задачи
 Вqan - время на тестирование задачи со стороны QA
 Kq - Соотношение стоимости QA к разработке
```

## Время на разработку задачи
### Классическая разработка + регресс + сквозное QA
```
Вn = Из + Разр + Тест + Регр + Дор
Тест=Инт
Регр = ∑(a=n-1..1)(Изa + Тестa) / 2
Дор = ∑(a=n-1..1)(Разрa + Тестa) * K / 2

Вqan = Изqa + Интqa

Где:
 Вqan - время QA, потраченное на тестирование задачи с порядковым номером n
 n - номер текущей задачи
 K - соотношение времени, затрачиваемого на исправление ошибок к времени, потраченному на разработку
 Изqa - время на изучение задачи со стороны QA
 Интqa - время на тестирование задачи со стороны QA
```

### Классическая разработка + регресс QA
Нет переменной Регр. Теперь регрессом занимаются QA, но приходится тратить время на взаимодействие по багам
```
Вn = Из + Разр + Инт + Дор
Дор = ∑(a=n..1)Рa * K * Kqa

Вqan = ∑(n)(Изqa + Интqa)
где:
 Kqa - соотношение времени взаимодействия по багам с QA ко времени, потраченного
   на разработку функционала
```

### TDD + регресс QA
```
Вn = Из + Нт + Разр + Инт + Дор
Дор = ∑(a=n..1)Рa * K * Kqa

Вqan = ∑(n)(Изqa + Интqa)
где:
 Нт - время на написание теста
 С - ручное скозное тестирование
 Та = T = 0, поскольку тестирование автоматизировано
```


### TDD + сквозное QA
```
Вn = Из + Нт + Разр + Инт + Дор
Дор = Р * K * Kqa
Вqan = Изqa + Интqa
```

### Сторисы для разработки сервиса discount.
Я, как пользователь, хочу:

1. посчитать скидку от переданной суммы в размере 10%.
   * **ввод 100, вывод 10**
2. с округлением в меньшую сторону (109).
   * **ввод 109, вывод 10**
3. сумма не может быть отрицательной или равна нулю
   * **ввод -1, вывод ошибка**
4. сумма не может превышать 1 миллиард (1000000000)
   * **ввод 1000000001, вывод ошибка**
5. чтобы моя скидка считалась пропорционально сумме моих заказов из сервиса order:
   1. 0% если сумма заказов <2000
      * **ввод 100, 1999, вывод 0**
   2. 3% если сумма заказов >=2000 <10000
      * **ввод 100, 2000, вывод 3**
   3. 5% если сумма заказов >=5000 <10000
      * **ввод 100, 5000, вывод 5**

